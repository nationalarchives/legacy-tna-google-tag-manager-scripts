!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.removeNullValues=function e(t){return Object.keys(t).forEach(function(r){t[r]===Object(t[r])?e(t[r]):null!==t[r]&&void 0!==t[r]||delete t[r]}),t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.extractMetaTagContent=function(e,t){var r="string"!=typeof e?null:document.querySelector("meta[name = "+e+" ]");return r&&r.getAttribute("content")?r.getAttribute("content"):t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.buildEcommerceObj=function(e,t,r,n,a,o,i,u){return"string"==typeof e&&"string"==typeof a&&"string"==typeof o&&"string"==typeof i&&Array.isArray(u)?{event:e,ecommerce:{actionField:{step:r,option:t},currencyCode:n,purchase:{actionField:{id:a,affiliation:o,revenue:i,tax:"0.00",shipping:"0.00"},products:u}}}:"The parameters are of the incorrect data type."}},,,,,,,function(e,t,r){"use strict";var n=r(10),a=r(11),o=r(1),i=r(12),u=r(2),c=r(13),l=r(14),s=r(15),f=r(16),d=r(17),y=r(0),p=document.querySelector("meta[name = WT\\.si_p ]").content,v=(0,o.extractMetaTagContent)("WT\\.pn_fa","Categories meta tag not available").split(";"),b=(0,o.extractMetaTagContent)("WT\\.pn_sku","Product meta tag not available").split(";"),m=(0,o.extractMetaTagContent)("WT\\.tx_s","Prices meta tag not available").split(";"),g=(0,a.buildProductsObjArray)((0,i.extractProductName)(b),b,m,v,(0,n.calculateQuantity)(b)),_={".removeLink":(0,l.removeBasketItem)(g),".text_sketch.call-to-action-link":(0,s.submitOrder)(g)};window.dataLayer=window.dataLayer||[],(0,c.buttonsExist)(_),"Step 1"!==p&&"Step 2"!==p&&"Step 4"!==p||window.dataLayer.push((0,y.removeNullValues)((0,u.buildEcommerceObj)((0,f.verifyEvent)(p),(0,d.verifyOption)(p),(0,o.extractMetaTagContent)("WT\\.si_p","Meta tag not available"),null,(0,o.extractMetaTagContent)("WT\\.tx_id","Meta tag not available"),(0,o.extractMetaTagContent)("WT\\.si_n","Meta tag not available"),(0,o.extractMetaTagContent)("WT\\.tx_total","Meta tag not available"),g)))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateQuantity=function(e){var t={};return Array.isArray(e)?(e.forEach(function(e,r){t[e]?t[e].push(r):t[e]=[r]}),t):"The parameter is of the incorrect data type."}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildProductsObjArray=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(1);t.buildProductsObjArray=function(e,t,r,o,i){if(Array.isArray(e)&&Array.isArray(t)&&Array.isArray(r)&&Array.isArray(o)&&"object"===(void 0===i?"undefined":n(i))){for(var u=[],c=0;c<t.length;c++)u.push({name:e[c],price:r[c],brand:(0,a.extractMetaTagContent)("WT\\.pn_gr","Meta tag not available"),category:o[c],variant:t[c],quantity:i[t[c].split(",")[0]].length});return u}return"The parameters are of the incorrect data type."}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.extractProductName=function(e){if(Array.isArray(e)){var t=[],r=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value,c=u.indexOf("/");t.push(u.slice(0,c))}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return t}return"The parameter is of the incorrect data type."}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.buttonsExist=function(e){for(var t in e){var r=document.querySelectorAll(t);if(r.length>0){var n=!0,a=!1,o=void 0;try{for(var i,u=r[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){i.value.addEventListener("click",e[t])}}catch(e){a=!0,o=e}finally{try{!n&&u.return&&u.return()}finally{if(a)throw o}}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeBasketItem=void 0;var n=r(2),a=r(0);t.removeBasketItem=function(e){return function(){var t=event.target.parentElement.parentElement,r=parseInt(t.children[0].innerHTML[0])-1,o=e.slice(r,r+1),i=(0,a.removeNullValues)((0,n.buildEcommerceObj)("removeFromCart",null,null,"GBP","id","TNA","revenue",o));console.log(i)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitOrder=void 0;var n=r(2),a=r(0);t.submitOrder=function(e){return function(){var t=(0,a.removeNullValues)((0,n.buildEcommerceObj)("transaction",null,"Step 3",null,"id","TNA","revenue",e));console.log(t),event.preventDefault()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.verifyEvent=function(e){var t=void 0;switch(e){case"Step 1":case"Step 2":t="checkout";break;case"Step 4":t="checkoutOption";break;default:t="Invalid step"}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.verifyOption=function(e){return"Step 4"===e?"Receipt":null}}]);