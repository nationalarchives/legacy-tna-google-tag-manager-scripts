{"version":3,"sources":["../src/deliveryOptionChosen.js"],"names":["deliveryOptionButton","document","querySelector","addEventListener","e","preventDefault","$discovery","$eventAction","$orderOptionWrapper","$eventLabel","getAttribute","window","dataLayer","push","attachEvent"],"mappings":";;AAAA;;;;;;AAMA,IAAIA,uBAAuBC,SAASC,aAAT,CAAuB,yBAAvB,CAA3B;AACA,IAAIF,qBAAqBG,gBAAzB,EAA2C;AACvCH,yBAAqBG,gBAArB,CAAsC,OAAtC,EAA+C,UAASC,CAAT,EAAY;AACvDA,UAAEC,cAAF;AACA,YAAIC,aAAa,WAAjB;AAAA,YACIC,eAAe,wBADnB;AAAA,YAEIC,sBAAsBP,SAASC,aAAT,CAAuB,yBAAvB,CAF1B;AAAA,YAGIO,cAAcD,oBAAoBE,YAApB,CAAiC,qBAAjC,CAHlB;;AAKA,eAAO,YAAM;AACTC,mBAAOC,SAAP,CAAiBC,IAAjB,CAAsB;AAClB,yBAAkBP,UADA;AAElB,iCAAkBA,UAFA;AAGlB,+BAAkBC,YAHA;AAIlB,8BAAkBE;AAJA,aAAtB;AAMH,SAPD;AAQH,KAfD,EAeG,KAfH;AAgBH,CAjBD,MAiBO;AAAE;AACLT,yBAAqBc,WAArB,CAAiC,SAAjC,EAA4C,UAAUV,CAAV,EAAa;AACrDA,UAAEC,cAAF;AACA,YAAIC,aAAa,WAAjB;AAAA,YACIC,eAAe,wBADnB;AAAA,YAEIC,sBAAsBP,SAASC,aAAT,CAAuB,yBAAvB,CAF1B;AAAA,YAGIO,cAAcD,oBAAoBE,YAApB,CAAiC,qBAAjC,CAHlB;;AAKA,eAAO,YAAM;AACTC,mBAAOC,SAAP,CAAiBC,IAAjB,CAAsB;AAClB,yBAAkBP,UADA;AAElB,iCAAkBA,UAFA;AAGlB,+BAAkBC,YAHA;AAIlB,8BAAkBE;AAJA,aAAtB;AAMH,SAPD;AAQH,KAfD;AAgBH","file":"deliveryOptionChosen.js","sourcesContent":["/**\n * ------------  THE NATIONAL ARCHIVES GTM SCRIPTS  -----------------\n * JS - getting the data attributes when the user clicks on a delivery option in Discovery Details page for Google Tag Manager\n * Developer: Punal Chotrani\n **/\n\nlet deliveryOptionButton = document.querySelector('.order-option-wrapper a');\nif (deliveryOptionButton.addEventListener) {\n    deliveryOptionButton.addEventListener('click', function(e) {\n        e.preventDefault();\n        let $discovery = 'Discovery',\n            $eventAction = 'Delivery option chosen',\n            $orderOptionWrapper = document.querySelector('.order-option-wrapper a'),\n            $eventLabel = $orderOptionWrapper.getAttribute('data-webtrends-call');\n\n        return () => {\n            window.dataLayer.push({\n                'event'         : $discovery,\n                'eventCategory' : $discovery,\n                'eventAction'   : $eventAction,\n                'eventLabel'    : $eventLabel\n            });\n        };\n    }, false);\n} else { // only for IE8 option\n    deliveryOptionButton.attachEvent('onclick', function (e) {\n        e.preventDefault();\n        let $discovery = 'Discovery',\n            $eventAction = 'Delivery option chosen',\n            $orderOptionWrapper = document.querySelector('.order-option-wrapper a'),\n            $eventLabel = $orderOptionWrapper.getAttribute('data-webtrends-call');\n\n        return () => {\n            window.dataLayer.push({\n                'event'         : $discovery,\n                'eventCategory' : $discovery,\n                'eventAction'   : $eventAction,\n                'eventLabel'    : $eventLabel\n            });\n        };\n    });\n}"]}