{"version":3,"sources":["../src/deliveryOptionChosen.js"],"names":["deliveryOption","deliveryOptionButton","document","querySelector","addEventListener","e","preventDefault","$discovery","$eventAction","$orderOptionWrapper","$eventLabel","getAttribute","window","dataLayer","push","attachEvent"],"mappings":";;AAAA;;;;;;AAMA,IAAIA,iBAAiB,SAAjBA,cAAiB,GAAM;AACvB,QAAIC,uBAAuBC,SAASC,aAAT,CAAuB,yBAAvB,CAA3B;AACA,QAAIF,qBAAqBG,gBAAzB,EAA2C;AACvCH,6BAAqBG,gBAArB,CAAsC,OAAtC,EAA+C,UAASC,CAAT,EAAY;AACvDA,cAAEC,cAAF;AACA,gBAAIC,aAAa,WAAjB;AAAA,gBACIC,eAAe,wBADnB;AAAA,gBAEIC,sBAAsBP,SAASC,aAAT,CAAuB,yBAAvB,CAF1B;AAAA,gBAGIO,cAAcD,oBAAoBE,YAApB,CAAiC,qBAAjC,CAHlB;;AAKA,mBAAO,YAAM;AACTC,uBAAOC,SAAP,CAAiBC,IAAjB,CAAsB;AAClB,6BAAkBP,UADA;AAElB,qCAAkBA,UAFA;AAGlB,mCAAkBC,YAHA;AAIlB,kCAAkBE;AAJA,iBAAtB;AAMH,aAPD;AAQH,SAfD,EAeG,KAfH;AAgBH,KAjBD,MAiBO;AAAE;AACLT,6BAAqBc,WAArB,CAAiC,SAAjC,EAA4C,UAAUV,CAAV,EAAa;AACrDA,cAAEC,cAAF;AACA,gBAAIC,aAAa,WAAjB;AAAA,gBACIC,eAAe,wBADnB;AAAA,gBAEIC,sBAAsBP,SAASC,aAAT,CAAuB,yBAAvB,CAF1B;AAAA,gBAGIO,cAAcD,oBAAoBE,YAApB,CAAiC,qBAAjC,CAHlB;;AAKA,mBAAO,YAAM;AACTC,uBAAOC,SAAP,CAAiBC,IAAjB,CAAsB;AAClB,6BAAkBP,UADA;AAElB,qCAAkBA,UAFA;AAGlB,mCAAkBC,YAHA;AAIlB,kCAAkBE;AAJA,iBAAtB;AAMH,aAPD;AAQH,SAfD;AAgBH;AACJ,CArCD;;AAuCAV","file":"deliveryOptionChosen.js","sourcesContent":["/**\n * ------------  THE NATIONAL ARCHIVES GTM SCRIPTS  -----------------\n * JS - getting the data attributes when the user clicks on a delivery option in Discovery Details page for Google Tag Manager\n * Developer: Punal Chotrani\n **/\n\nlet deliveryOption = () => {\n    let deliveryOptionButton = document.querySelector('.order-option-wrapper a');\n    if (deliveryOptionButton.addEventListener) {\n        deliveryOptionButton.addEventListener('click', function(e) {\n            e.preventDefault();\n            let $discovery = 'Discovery',\n                $eventAction = 'Delivery option chosen',\n                $orderOptionWrapper = document.querySelector('.order-option-wrapper a'),\n                $eventLabel = $orderOptionWrapper.getAttribute('data-webtrends-call');\n\n            return () => {\n                window.dataLayer.push({\n                    'event'         : $discovery,\n                    'eventCategory' : $discovery,\n                    'eventAction'   : $eventAction,\n                    'eventLabel'    : $eventLabel\n                });\n            };\n        }, false);\n    } else { // only for IE8 option\n        deliveryOptionButton.attachEvent('onclick', function (e) {\n            e.preventDefault();\n            let $discovery = 'Discovery',\n                $eventAction = 'Delivery option chosen',\n                $orderOptionWrapper = document.querySelector('.order-option-wrapper a'),\n                $eventLabel = $orderOptionWrapper.getAttribute('data-webtrends-call');\n\n            return () => {\n                window.dataLayer.push({\n                    'event'         : $discovery,\n                    'eventCategory' : $discovery,\n                    'eventAction'   : $eventAction,\n                    'eventLabel'    : $eventLabel\n                });\n            };\n        });\n    }\n};\n\ndeliveryOption();"]}