{"version":3,"sources":["../src/deliveryOptionChosen.js"],"names":["deliveryOptionChosen","deliveryButton","document","querySelector","discovery","eventAction","eventLabel","getAttribute","obj","window","dataLayer","push","addEventListener","module","exports"],"mappings":";;AAAA;;;;;;AAOA,IAAMA,uBAAuB,SAAvBA,oBAAuB,GAAM;;AAE/B,QAAIC,iBAAiBC,SAASC,aAAT,CAAuB,yBAAvB,CAArB;AAAA,QACIC,YAAY,WADhB;AAAA,QAEIC,cAAc,wBAFlB;AAAA,QAGIC,aAAaL,eAAeM,YAAf,CAA4B,qBAA5B,CAHjB;AAAA,QAIIC,MAAM;AACF,iBAASJ,SADP;AAEF,yBAAiBA,SAFf;AAGF,uBAAeC,WAHb;AAIF,sBAAcC;AAJZ,KAJV;;AAWAG,WAAOC,SAAP,GAAmBD,OAAOC,SAAP,IAAoB,EAAvC;AACAD,WAAOC,SAAP,CAAiBC,IAAjB,CAAsBH,GAAtB;;AAEA,WAAOA,GAAP;AACH,CAjBD;;AAmBA,IAAIP,iBAAiBC,SAASC,aAAT,CAAuB,yBAAvB,CAArB;AACA,IAAIF,cAAJ,EAAoB;AAChBA,mBAAeW,gBAAf,CAAgC,OAAhC,EAAyCZ,oBAAzC,EAA+D,IAA/D;AACH;;AAED,IAAI,OAAOa,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,OAAOC,OAAd,KAA0B,WAA/D,EAA4E;AACxED,WAAOC,OAAP,CAAed,oBAAf,GAAsCA,oBAAtC;AACH","file":"deliveryOptionChosen.js","sourcesContent":["/**\n * ------------  THE NATIONAL ARCHIVES GTM SCRIPTS  -----------------\n * JS - getting the data attributes when the user clicks on a delivery option in Discovery Details page for Google Tag Manager\n * Developer: Punal Chotrani\n **/\n\n\nconst deliveryOptionChosen = () => {\n\n    let deliveryButton = document.querySelector('.order-option-wrapper a'),\n        discovery = 'Discovery',\n        eventAction = 'Delivery option chosen',\n        eventLabel = deliveryButton.getAttribute('data-webtrends-call'),\n        obj = {\n            'event': discovery,\n            'eventCategory': discovery,\n            'eventAction': eventAction,\n            'eventLabel': eventLabel\n        };\n\n    window.dataLayer = window.dataLayer || [];\n    window.dataLayer.push(obj);\n\n    return obj;\n};\n\nlet deliveryButton = document.querySelector('.order-option-wrapper a');\nif (deliveryButton) {\n    deliveryButton.addEventListener('click', deliveryOptionChosen, true);\n}\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports.deliveryOptionChosen = deliveryOptionChosen;\n}"]}