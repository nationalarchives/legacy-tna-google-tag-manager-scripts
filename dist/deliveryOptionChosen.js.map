{"version":3,"sources":["../src/deliveryOptionChosen.js"],"names":["deliveryOptionChosen","$deliveryButton","document","querySelector","$discovery","$eventAction","$eventLabel","getAttribute","$obj","addEventListener","e","preventDefault","window","dataLayer","push","module","exports"],"mappings":";;AAAA;;;;;;AAOA,IAAMA,uBAAuB,SAAvBA,oBAAuB,GAAM;AAC/B,QAAIC,kBAAkBC,SAASC,aAAT,CAAuB,yBAAvB,CAAtB;AAAA,QACIC,aAAa,WADjB;AAAA,QAEIC,eAAe,wBAFnB;AAAA,QAGIC,cAAcL,gBAAgBM,YAAhB,CAA6B,qBAA7B,CAHlB;AAAA,QAIIC,OAAO;AACH,iBAASJ,UADN;AAEH,yBAAiBA,UAFd;AAGH,uBAAeC,YAHZ;AAIH,sBAAcC;AAJX,KAJX;;AAWA,WAAOE,IAAP;AACH,CAbD;;AAeA,CAAC,YAAM;AACH,QAAIP,kBAAkBC,SAASC,aAAT,CAAuB,yBAAvB,CAAtB;AACA,QAAIF,eAAJ,EAAqB;AACjBA,wBAAgBQ,gBAAhB,CAAiC,OAAjC,EAA0C,UAACC,CAAD,EAAO;AAC7CA,cAAEC,cAAF;AACAC,mBAAOC,SAAP,GAAmBD,OAAOC,SAAP,IAAoB,EAAvC;AACAD,mBAAOC,SAAP,CAAiBC,IAAjB,CAAsBd,sBAAtB;AACH,SAJD,EAIG,IAJH;AAKH;AACJ,CATD;;AAWA,IAAI,OAAOe,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,OAAOC,OAAd,KAA0B,WAA/D,EAA4E;AACxED,WAAOC,OAAP,CAAehB,oBAAf,GAAsCA,oBAAtC;AACH","file":"deliveryOptionChosen.js","sourcesContent":["/**\n * ------------  THE NATIONAL ARCHIVES GTM SCRIPTS  -----------------\n * JS - getting the data attributes when the user clicks on a delivery option in Discovery Details page for Google Tag Manager\n * Developer: Punal Chotrani\n **/\n\n\nconst deliveryOptionChosen = () => {\n    let $deliveryButton = document.querySelector('.order-option-wrapper a'),\n        $discovery = 'Discovery',\n        $eventAction = 'Delivery option chosen',\n        $eventLabel = $deliveryButton.getAttribute('data-webtrends-call'),\n        $obj = {\n            'event': $discovery,\n            'eventCategory': $discovery,\n            'eventAction': $eventAction,\n            'eventLabel': $eventLabel\n        };\n\n    return $obj;\n};\n\n(() => {\n    let $deliveryButton = document.querySelector('.order-option-wrapper a');\n    if ($deliveryButton) {\n        $deliveryButton.addEventListener('click', (e) => {\n            e.preventDefault();\n            window.dataLayer = window.dataLayer || [];\n            window.dataLayer.push(deliveryOptionChosen());\n        }, true);\n    }\n})();\n\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n    module.exports.deliveryOptionChosen = deliveryOptionChosen;\n}"]}